---
# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/v1/secret.json
apiVersion: v1
kind: Secret
metadata:
  name: memos-secret
  namespace: productivity
type: Opaque
stringData:
  # Postgres Init (creates database and user)
  INIT_POSTGRES_DBNAME: memos
  INIT_POSTGRES_HOST: postgres-rw.data.svc.cluster.local
  INIT_POSTGRES_USER: memos
  INIT_POSTGRES_PASS: "${MEMOS_POSTGRES_PASSWORD}"
  INIT_POSTGRES_SUPER_PASS: "${POSTGRES_SUPER_PASS}"

  # Database Configuration for Memos
  MEMOS_DSN: "postgresql://memos:${MEMOS_POSTGRES_PASSWORD}@postgres-rw.data.svc.cluster.local:5432/memos?sslmode=disable"
