---
# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/v1/secret.json
apiVersion: v1
kind: Secret
metadata:
  name: dispatcharr-secret
  namespace: media
type: Opaque
stringData:
  # Postgres Init (creates database and user)
  INIT_POSTGRES_DBNAME: dispatcharr
  INIT_POSTGRES_HOST: postgres-rw.data.svc.cluster.local
  INIT_POSTGRES_USER: dispatcharr
  INIT_POSTGRES_PASS: "${DISPATCHARR_POSTGRES_PASSWORD}"
  INIT_POSTGRES_SUPER_PASS: "${POSTGRES_SUPER_PASS}"

  # Database Configuration
  DATABASE_URL: "postgresql://dispatcharr:${DISPATCHARR_POSTGRES_PASSWORD}@postgres-rw.data.svc.cluster.local:5432/dispatcharr"

  # Redis/Celery Configuration
  REDIS_HOST: dragonfly.data.svc.cluster.local
  REDIS_PORT: "6379"
  REDIS_DB: "9"
  CELERY_BROKER_URL: "redis://dragonfly.data.svc.cluster.local:6379/9"
  CELERY_RESULT_BACKEND: "redis://dragonfly.data.svc.cluster.local:6379/9"
